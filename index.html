<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Catch Me ❤️</title>
<style>
body { margin: 0; overflow: hidden; background: #fff0f5; font-family: Arial, sans-serif; }
#hintText { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); font-size: 28px; font-weight: bold; color: #d63384; z-index: 9999; pointer-events: none; }
#movingText { position: absolute; font-size: 36px; font-weight: bold; cursor: pointer; user-select: none; transition: none; z-index: 10; }
#finalPopup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 60px; border-radius: 20px; box-shadow: 0 0 40px rgba(0,0,0,0.4); text-align: center; font-size: 38px; font-weight: bold; z-index: 10000; }
</style>
</head>
<body>

<div id="hintText">Try to click me!</div>
<div id="movingText"></div>
<div id="finalPopup">❤️ I love you. Always. ❤️</div>

<script>
const messages = [
    "i love you","so much","more than you know","you make me so happy","almost there...",
    "okay fine","my heart is yours","you’re the best","i am so proud of you","you’re amazing",
    "i appreciate you","forever and always","you complete me","my everything","you’re my sunshine",
    "my heart beats for you","love you to the moon","you’re incredible","you inspire me","you mean so much to me"
];

const text = document.getElementById("movingText");
const popup = document.getElementById("finalPopup");

let clickCount = 0;
let hoverIndex = 0;
let hoverCounter = 0;
const HOVER_THRESHOLD = 10; // can change this
let currentFontSize = 36;
let unlocked = false; // indicates you can now click

// Random position
function randomPosition() {
    const maxX = window.innerWidth - text.offsetWidth;
    const maxY = window.innerHeight - text.offsetHeight;
    text.style.left = Math.random() * maxX + "px";
    text.style.top = Math.random() * maxY + "px";
}

// Update main message
function updateText() {
    if (clickCount < messages.length) {
        text.textContent = messages[clickCount];
    } else {
        text.style.display = "none";
        popup.style.display = "block";
    }
}

// Hover: only move/shrink if not unlocked
text.addEventListener("mouseenter", () => {
    hoverCounter++;

    if (!unlocked) {
        // cycle hover messages
        text.textContent = messages[hoverIndex];
        hoverIndex = (hoverIndex + 1) % messages.length;

        // shrink font slightly
        currentFontSize = Math.max(currentFontSize - 2, 12);
        text.style.fontSize = currentFontSize + "px";

        randomPosition();

        // check if threshold reached
        if (hoverCounter >= HOVER_THRESHOLD) {
            unlocked = true;
            // make the box bigger so she can click
            currentFontSize = 60;
            text.style.fontSize = currentFontSize + "px";
            text.style.fontWeight = "bold";
            // optional: center it to make it easier
            const centerX = (window.innerWidth - text.offsetWidth)/2;
            const centerY = (window.innerHeight - text.offsetHeight)/2;
            text.style.left = centerX + "px";
            text.style.top = centerY + "px";
        }
    }
});

// Click: only allowed if unlocked
text.addEventListener("click", () => {
    if (unlocked) {
        clickCount++;
        updateText();
        // optional: teleport again for next message
        randomPosition();
    } else {
        console.log(`Keep hovering! ${hoverCounter}/${HOVER_THRESHOLD}`);
    }
});

// Initialize
text.textContent = messages[0];
text.style.fontSize = currentFontSize + "px";
randomPosition();
</script>

</body>
</html>
